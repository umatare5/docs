# ソフトウェア・エンジニアリングとは何か

- ソフトウェアエンジニアは、時間の経過と、結果的に出てくる変更の必要性に、より配慮しなければならない。
- ソフトウェアエンジニアリング組織内では、生産するソフトウェアと、ソフトウェアを生産する組織の両方のスケールと効率に配慮しなければならない
- ソフトウェアエンジニアとして我々は、比較的大きな利害の関係する結果を伴う、より複雑な決定の実行を求められる。

## 時間と変化

運用に関する考慮事項。

- コードには事実上無限の想定稼働時間 (保守稼働時間) を持つものがある
  - これは、組織の主力プロダクト、組織自体のプロダクト等が該当する
- 想定稼働時間が未知ということは、保守稼働時間も予想出来ない
  - このようなコードの持続可能性に投資しないことはリスクである
    - 想定稼働時間の長いコードではアップグレードが必要になる
      - アップグレードは以下の性質を持つ
        - 時間経過により、未知の前提条件や課題を含む
        - 人の変化により、担当者が未経験の場合が多い
        - 往々にして数年単位でまとめて実行され、単体の負荷が高い
      - アップグレードを経験した組織は以下を選択する
        - アップグレード自体を行わずフルリファクタする
        - アップグレードを定期的に行い、負荷を最小化する
          - Google は後者を選択している
        - 「何もしない」状態はありえない
          - これは Heartbleed や Meltdown, Spectre を回避しないことを意味する
  - 理論上理解していることと、正確な方法・それにかかる費用を実践上知っているということは別物である
  - 鍛錬 (プラクティス) と蓄積した専門知識は、効率と信頼性を大いに推進する

## スケールと効率

品質に関する考慮事項。

- 以下を満たすコードは持続可能である
  - 変更すべき全てのものを安全に変更可能
  - コードベースの存続期間を通してそれが可能
- コストが時間の経過とともに超線形に増大するならば、その業務はスケーラブルではない
  - コードは時間の経過でいずれ変更を迫られる
    - プロジェクトのスコープが 2 倍になってからタスクを始めた時、必要な労働力も 2 倍とは限らない
    - 時間の経過によって、その対処に必要な人的リソースを確保出来るかもわからない
- スケーリングに対する組織全体での意識とコミットメントがある場合、この問題を認識出来る
- 組織がコードを生産し、保守する際に依存する全てのものは、全体のコストとリソースの観点でスケーラブルであるべき
- 組織がスケールする際、専門知識とオープンな共有コミュニケーションは大きな価値を提供する
  - オープンな場での質問・回答は、専門知識の広がりにつながる
  - これにより、1 人の卓越した知識が 100 人のエンジニアに伝わる
  - 知識にはウイルスのような拡散性があり、専門家は媒介者である
- 問題の早期発見と修正は、長期的なコスト削減につながる

## トレードオフとコスト

最適解を選択する際の考慮事項。

- 以下全てを考慮する。
  - 財務コスト (例：資金)
  - 資源コスト (例：CPU 時間)
  - 人件コスト (例：エンジニアリング能力)
  - 処理コスト (例：行動を取る場合にどんなコストがかかるか)
  - 機会コスト (例：行動を取らない場合にどんなコストがかかるか)
  - 社会コスト (この選択が社会全体にどのような影響を与えるか)
- 現状維持、損失嫌悪等、人間故のバイアスも考慮する。

## まとめ

- 「ソフトウェアエンジニアリング」と「プログラミング」は次元が異なる。
  - プログラミングはコードを生産するものである。
  - ソフトウェアエンジニアリングは、生産したコードを有用性のある稼働期間中保守し、拡張することである。
- 寿命の長いコードの稼働時間は、短命なコードの稼働期間の少なくとも 10 万倍はある。
  - この分布範囲の両端で、同じベストプラクティスが普遍的に適用出来ると仮定するのは非現実的である。
- コードの想定稼働期間中に、依存関係・技術・製品要件の変化に対応出来る場合、ソフトウェアは持続可能である。
  - 変更を行わないことを選択しても良いが、変更する能力は持っていなければならない。
- Hyrum の法則：ある API に十分な数のユーザーがいる場合、API を作った者自信が契約使用として何を約束しているかは重要ではない。
  - システムが持つあらゆる観測可能な挙動について、それに依存するユーザが出てくるものである。
- 組織で繰り返し実行しなければならない全タスクは、人間による入力の点でスケーラブルであるべきである。
  - ポリシーは、プロセスをスケーラブルにする素晴らしいツールである。
- プロセスの非効率的な部分と、他のソフトウェア開発タスクは、スケールアップが遅い傾向にある。茹で蛙問題に注意せよ 🐸
